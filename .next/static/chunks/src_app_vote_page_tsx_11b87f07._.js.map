{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/vote/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useVote } from \"@/context/VoteContext\";\n\nconst candidates = [\"Tami Suastuti\", \"Intan Oka Apriliani\", \"Merthi Utami\"];\n\nexport default function VotePage() {\n  const [account, setAccount] = useState<string | null>(null);\n  const [selectedCandidate, setSelectedCandidate] = useState(candidates[0]);\n  const [statusMessage, setStatusMessage] = useState<string | null>(null);\n  const [transactionId, setTransactionId] = useState<string | null>(null);\n  const { castVote } = useVote();\n\n  // Connect to MetaMask wallet\n  const connectWallet = async () => {\n    if (typeof window.ethereum === \"undefined\") {\n      alert(\"MetaMask is not installed. Please install it to vote.\");\n      return;\n    }\n    try {\n      const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      setAccount(accounts[0]);\n      setStatusMessage(null);\n      setTransactionId(null);\n    } catch (error) {\n      console.error(\"Wallet connection failed:\", error);\n      setStatusMessage(\"Failed to connect wallet.\");\n    }\n  };\n\n  // Cast vote and update context\n  const handleCastVote = () => {\n    if (!account) {\n      setStatusMessage(\"Please connect your wallet first.\");\n      return;\n    }\n    castVote(selectedCandidate);\n    const mockTxId = `tx-${Math.random().toString(36).substr(2, 9)}`;\n    setTransactionId(mockTxId);\n    setStatusMessage(`You have voted for ${selectedCandidate}. Thank you! Your transaction ID is ${mockTxId}`);\n  };\n\n  return (\n    <div className=\"max-w-xl mx-auto p-6\">\n      <h1 className=\"text-3xl font-bold mb-6\">Sistem E-voting ketua HMTI 2025 -2026 berbasis smart contract</h1>\n\n      {!account ? (\n        <button\n          onClick={connectWallet}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\"\n        >\n          Connect MetaMask Wallet\n        </button>\n      ) : (\n        <div className=\"mb-4\">\n          <p className=\"mb-2\">Connected Wallet: <span className=\"font-mono\">{account}</span></p>\n          <label htmlFor=\"candidate\" className=\"block mb-1 font-semibold\">\n            Choose Candidate:\n          </label>\n          <select\n            id=\"candidate\"\n            value={selectedCandidate}\n            onChange={(e) => setSelectedCandidate(e.target.value)}\n            className=\"w-full border border-gray-300 rounded px-3 py-2\"\n          >\n            {candidates.map((candidate) => (\n              <option key={candidate} value={candidate}>\n                {candidate}\n              </option>\n            ))}\n          </select>\n          <button\n            onClick={handleCastVote}\n            className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\"\n          >\n            Cast Vote\n          </button>\n        </div>\n      )}\n\n      {statusMessage && (\n        <div className=\"mt-4 p-3 bg-green-100 text-green-800 rounded whitespace-pre-wrap\">{statusMessage}</div>\n      )}\n\n      {transactionId && (\n        <div className=\"mt-2 p-3 bg-gray-100 text-gray-800 rounded font-mono break-all\">\n          Transaction ID: {transactionId}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,aAAa;IAAC;IAAiB;IAAuB;CAAe;AAE5D,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACtD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,UAAU,CAAC,EAAE;IACxE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClE,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAE3B,6BAA6B;IAC7B,MAAM,gBAAgB;QACpB,IAAI,OAAO,OAAO,QAAQ,KAAK,aAAa;YAC1C,MAAM;YACN;QACF;QACA,IAAI;YACF,MAAM,WAAW,MAAM,OAAO,QAAQ,CAAC,OAAO,CAAC;gBAAE,QAAQ;YAAsB;YAC/E,WAAW,QAAQ,CAAC,EAAE;YACtB,iBAAiB;YACjB,iBAAiB;QACnB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,iBAAiB;QACnB;IACF;IAEA,+BAA+B;IAC/B,MAAM,iBAAiB;QACrB,IAAI,CAAC,SAAS;YACZ,iBAAiB;YACjB;QACF;QACA,SAAS;QACT,MAAM,WAAW,CAAC,GAAG,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;QAChE,iBAAiB;QACjB,iBAAiB,CAAC,mBAAmB,EAAE,kBAAkB,oCAAoC,EAAE,UAAU;IAC3G;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,CAAC,wBACA,6LAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;qCAID,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;;4BAAO;0CAAkB,6LAAC;gCAAK,WAAU;0CAAa;;;;;;;;;;;;kCACnE,6LAAC;wBAAM,SAAQ;wBAAY,WAAU;kCAA2B;;;;;;kCAGhE,6LAAC;wBACC,IAAG;wBACH,OAAO;wBACP,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,KAAK;wBACpD,WAAU;kCAET,WAAW,GAAG,CAAC,CAAC,0BACf,6LAAC;gCAAuB,OAAO;0CAC5B;+BADU;;;;;;;;;;kCAKjB,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;YAMJ,+BACC,6LAAC;gBAAI,WAAU;0BAAoE;;;;;;YAGpF,+BACC,6LAAC;gBAAI,WAAU;;oBAAiE;oBAC7D;;;;;;;;;;;;;AAK3B;GArFwB;;QAKD,iIAAA,CAAA,UAAO;;;KALN","debugId":null}}]
}